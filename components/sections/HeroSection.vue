<template>
  <section id="hero" class="bg-gradient-to-r from-primary-700 to-primary-900 text-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å - –¢–µ–∫—Å—Ç -->
        <div class="space-y-6 animate-[fade-in_0.8s_ease-in]">
          <div class="flex items-center gap-3 bg-primary-600/30 backdrop-blur-sm rounded-full px-4 py-2 inline-flex">
            <IconComponent name="shield" class="w-5 h-5" />
            <span class="text-sm font-medium">–†–∞–±–æ—Ç–∞–µ–º –Ω–∞–ø—Ä—è–º—É—é —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º–∏</span>
          </div>
          <h1 class="text-4xl md:text-5xl font-bold leading-tight">
            –§–∞—Å–∞–¥–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã <span class="text-accent-300">–¥–ª—è –¥–æ–º–∞ –≤ –ö–∏—Ä–æ–≤–µ</span>
          </h1>
          <p class="text-xl text-gray-200">
            –°–∞–π–¥–∏–Ω–≥, —Ñ–∞—Å–∞–¥–Ω—ã–µ –ø–∞–Ω–µ–ª–∏, –≤–æ–¥–æ—Å—Ç–æ—á–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã. –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç + –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –ö–∏—Ä–æ–≤—É –∏ –æ–±–ª–∞—Å—Ç–∏.
          </p>
          <div class="bg-white/10 backdrop-blur-sm rounded-lg p-4 mt-4">
            <div class="flex items-start gap-3">
              <IconComponent name="check" class="w-6 h-6 mt-1" />
              <span class="text-lg">–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –Ω–∞–ª–∏—á–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ</span>
            </div>
            <div class="flex items-start gap-3 mt-2">
              <IconComponent name="check" class="w-6 h-6 mt-1" />
              <span class="text-lg">–î–æ—Å—Ç–∞–≤–∫–∞ –≤ –¥–µ–Ω—å –∑–∞–∫–∞–∑–∞</span>
            </div>
            <div class="flex items-start gap-3 mt-2">
              <IconComponent name="check" class="w-6 h-6 mt-1" />
              <span class="text-lg">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç –æ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞</span>
            </div>
          </div>
          <div class="flex flex-col sm:flex-row gap-4 pt-6">
            <button class="bg-accent-500 hover:bg-accent-600 text-gray-900 px-8 py-4 rounded-lg font-bold text-lg shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1" @click="openCalculatorModal">
              <span class="flex items-center justify-center gap-2">
                <IconComponent name="calculator" color="#1a202c" class="w-6 h-6" />
                <span>–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
              </span>
            </button>
            <a href="tel:+78332756983" class="bg-white text-primary-700 hover:bg-gray-100 px-8 py-4 rounded-lg font-bold text-lg border-2 border-white hover:border-accent-300 transition-all">
              <span class="flex items-center justify-center gap-2">
                <IconComponent name="phone" color="#033975" class="w-6 h-6" />
                <span>+7 (8332) 75-69-83</span>
              </span>
            </a>
          </div>
          <div class="mt-8 pt-6 border-t border-white/20">
            <div class="flex items-center gap-4">
              <div class="flex -space-x-2">
                <div class="w-10 h-10 bg-gray-200 rounded-full border-2 border-primary-700 flex items-center justify-center font-bold text-primary-700">–ö</div>
                <div class="w-10 h-10 bg-gray-200 rounded-full border-2 border-primary-700 flex items-center justify-center font-bold text-primary-700">–°</div>
                <div class="w-10 h-10 bg-gray-200 rounded-full border-2 border-primary-700 flex items-center justify-center font-bold text-primary-700">–ò</div>
              </div>
              <div>
                <div class="font-bold">156 –¥–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</div>
                <div class="text-sm opacity-80">–≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ –≤ –ö–∏—Ä–æ–≤–µ</div>
              </div>
            </div>
          </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å - –§–æ—Ä–º–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º -->
        <div class="bg-white rounded-2xl shadow-2xl p-8 animate-[slide-up_0.8s_ease-out] text-gray-900">
          <h2 class="text-2xl font-bold text-primary-700 mb-2">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é</h2>
          <p class="text-gray-500 mb-6 text-sm">–ü–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç</p>

          <form class="space-y-4" @submit.prevent="submitForm">
            <div>
              <input
                  v-model="form.name"
                  type="text"
                  placeholder="–í–∞—à–µ –∏–º—è"
                  class="w-full px-4 py-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-base"
                  required
              >
            </div>
            <div>
              <input
                  v-model="form.phone"
                  type="tel"
                  placeholder="+7 (___) ___-__-__"
                  class="w-full px-4 py-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-base"
                  required
              >
            </div>
            <div>
              <textarea
                  v-model="form.comment"
                  rows="2"
                  placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
                  class="w-full px-4 py-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-base resize-none"
              />
            </div>

            <button
                type="submit"
                :disabled="loading"
                class="w-full bg-success-600 hover:bg-success-700 disabled:bg-gray-400 text-white font-bold py-4 rounded-lg text-lg transition-all shadow-lg hover:shadow-xl disabled:cursor-not-allowed"
            >
              <span v-if="loading">–û—Ç–ø—Ä–∞–≤–∫–∞...</span>
              <span v-else>–ñ–¥—É –∑–≤–æ–Ω–∫–∞</span>
            </button>

            <p class="text-xs text-gray-400 text-center">
              üîí –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥ –∑–∞—â–∏—Ç–æ–π
            </p>
          </form>
        </div>
      </div>
    </div>
  </section>
</template>

<script setup>
const { openCalculatorModal } = useModals()

const loading = ref(false)
const form = ref({
  name: '',
  phone: '',
  comment: ''
})

const submitForm = async () => {
  loading.value = true

  // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
  await new Promise(resolve => setTimeout(resolve, 1500))

  // TODO: –†–µ–∞–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  // await $fetch('/api/lead', {
  //   method: 'POST',
  //   body: {
  //     ...form.value,
  //     source: 'hero_form',
  //     timestamp: new Date().toISOString()
  //   }
  // })

  console.log('–ó–∞—è–≤–∫–∞:', form.value)
  alert('–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç.')

  form.value = { name: '', phone: '', comment: '' }
  loading.value = false
}
</script>